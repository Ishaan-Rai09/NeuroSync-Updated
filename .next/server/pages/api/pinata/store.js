"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/pinata/store";
exports.ids = ["pages/api/pinata/store"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fpinata%2Fstore&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cpinata%5Cstore.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fpinata%2Fstore&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cpinata%5Cstore.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_pinata_store_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\pinata\\store.js */ \"(api-node)/./pages/api/pinata/store.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_pinata_store_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_pinata_store_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_pinata_store_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_pinata_store_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/pinata/store\",\n        pathname: \"/api/pinata/store\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_pinata_store_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGcGluYXRhJTJGc3RvcmUmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3BpbmF0YSU1Q3N0b3JlLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQzJEO0FBQzNEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx1REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsdURBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxccGluYXRhXFxcXHN0b3JlLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9waW5hdGEvc3RvcmVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9waW5hdGEvc3RvcmVcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fpinata%2Fstore&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cpinata%5Cstore.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/pinata/store.js":
/*!***********************************!*\
  !*** ./pages/api/pinata/store.js ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios?daaa\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethers */ \"ethers\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ethers__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// Pinata configuration\nconst JWT = process.env.PINATA_JWT;\nconst PINATA_API_KEY = process.env.PINATA_API_KEY;\nconst PINATA_API_SECRET = process.env.PINATA_API_SECRET;\n/**\r\n * @route POST /api/pinata/store\r\n * @desc Store transaction data on Pinata IPFS\r\n * @access Private\r\n */ async function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            success: false,\n            error: 'Method not allowed'\n        });\n    }\n    // Validate API credentials\n    if (!JWT && (!PINATA_API_KEY || !PINATA_API_SECRET)) {\n        console.error('Pinata API credentials not configured in environment variables');\n        return res.status(500).json({\n            success: false,\n            error: 'Pinata API credentials not configured'\n        });\n    }\n    try {\n        const data = req.body;\n        if (!data || !data.walletAddress) {\n            return res.status(400).json({\n                success: false,\n                error: 'Invalid transaction data'\n            });\n        }\n        console.log('Storing transaction data:', JSON.stringify(data, null, 2));\n        // Add timestamp if not provided\n        if (!data.timestamp) {\n            data.timestamp = new Date().toISOString();\n        }\n        // Create a unique identifier for the transaction\n        const txId = ethers__WEBPACK_IMPORTED_MODULE_1__.ethers.utils.id(`${data.walletAddress}-${data.type}-${data.amount}-${data.timestamp}`);\n        data.id = txId;\n        // Prepare data for Pinata\n        const jsonData = JSON.stringify(data, null, 2);\n        // Upload to Pinata\n        let response;\n        if (JWT) {\n            // Use JWT authentication\n            response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post('https://api.pinata.cloud/pinning/pinJSONToIPFS', data, {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${JWT}`\n                }\n            });\n        } else {\n            // Use API key/secret\n            response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post('https://api.pinata.cloud/pinning/pinJSONToIPFS', data, {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'pinata_api_key': PINATA_API_KEY,\n                    'pinata_secret_api_key': PINATA_API_SECRET\n                }\n            });\n        }\n        const ipfsHash = response.data.IpfsHash;\n        console.log('Transaction stored with IPFS hash:', ipfsHash);\n        // Also add to user's transaction history\n        const historyIpfsHash = await updateUserTransactionHistory(data.walletAddress, {\n            ...data,\n            ipfsHash\n        });\n        return res.status(200).json({\n            success: true,\n            ipfsHash,\n            historyIpfsHash,\n            message: 'Transaction saved to Pinata IPFS'\n        });\n    } catch (error) {\n        console.error('Pinata storage error:', error);\n        return res.status(500).json({\n            success: false,\n            error: `Failed to store transaction on Pinata: ${error.message}`,\n            stack:  true ? error.stack : 0\n        });\n    }\n}\n/**\r\n * Helper function to update a user's transaction history on Pinata\r\n */ async function updateUserTransactionHistory(walletAddress, newTransaction) {\n    try {\n        // Normalize the wallet address to lowercase for consistent lookup\n        const normalizedWalletAddress = walletAddress.toLowerCase();\n        // Create a key for the user's transaction history file\n        const userHistoryKey = `neuro_${normalizedWalletAddress}_transactions`;\n        console.log('Updating transaction history for wallet:', normalizedWalletAddress);\n        // For a production app, you would retrieve the existing history\n        // and append the new transaction\n        // For this example, we'll use global variable storage\n        // Try to load existing transactions from global storage (this is temporary, in a real app use a database)\n        if (!global.userTransactions) {\n            global.userTransactions = {};\n        }\n        let transactions = global.userTransactions[normalizedWalletAddress] || [];\n        // Ensure the transaction has the normalized wallet address\n        const transactionWithNormalizedWallet = {\n            ...newTransaction,\n            walletAddress: normalizedWalletAddress\n        };\n        // Add the new transaction at the beginning of the array\n        transactions = [\n            transactionWithNormalizedWallet,\n            ...transactions\n        ];\n        // Store in global for this session (temporary solution)\n        global.userTransactions[normalizedWalletAddress] = transactions;\n        const historyData = {\n            walletAddress: normalizedWalletAddress,\n            lastUpdated: new Date().toISOString(),\n            transactions\n        };\n        // Store history data as JSON\n        const metadata = {\n            name: `${userHistoryKey}.json`,\n            keyvalues: {\n                walletAddress: normalizedWalletAddress,\n                lastUpdated: new Date().toISOString()\n            }\n        };\n        // Upload to Pinata\n        let response;\n        if (process.env.PINATA_JWT) {\n            // Use JWT authentication\n            response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post('https://api.pinata.cloud/pinning/pinJSONToIPFS', historyData, {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${process.env.PINATA_JWT}`\n                },\n                params: {\n                    pinataMetadata: JSON.stringify(metadata)\n                }\n            });\n        } else {\n            // Use API key/secret\n            response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post('https://api.pinata.cloud/pinning/pinJSONToIPFS', historyData, {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'pinata_api_key': process.env.PINATA_API_KEY,\n                    'pinata_secret_api_key': process.env.PINATA_API_SECRET\n                },\n                params: {\n                    pinataMetadata: JSON.stringify(metadata)\n                }\n            });\n        }\n        const ipfsHash = response.data.IpfsHash;\n        console.log(`Updated transaction history stored with IPFS hash: ${ipfsHash}`);\n        // In a production app, you would store this hash in a database\n        // For this demo, we'll store it in a global variable (this is lost on server restart)\n        if (!global.userHistoryCids) {\n            global.userHistoryCids = {};\n        }\n        global.userHistoryCids[normalizedWalletAddress] = ipfsHash;\n        return ipfsHash;\n    } catch (error) {\n        console.error('Error updating transaction history:', error);\n        throw error;\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VSxFQUFFO1lBQzFCLHlCQUF5QjtZQUN6QjJCLFdBQVcsTUFBTWhDLGtEQUFVLENBQ3pCLGtEQUNBa0QsYUFDQTtnQkFDRWhCLFNBQVM7b0JBQ1AsZ0JBQWdCO29CQUNoQixpQkFBaUIsQ0FBQyxPQUFPLEVBQUUvQixRQUFRQyxHQUFHLENBQUNDLFVBQVUsRUFBRTtnQkFDckQ7Z0JBQ0FrRCxRQUFRO29CQUNOQyxnQkFBZ0JuQyxLQUFLQyxTQUFTLENBQUM4QjtnQkFDakM7WUFDRjtRQUVKLE9BQU87WUFDTCxxQkFBcUI7WUFDckJwQixXQUFXLE1BQU1oQyxrREFBVSxDQUN6QixrREFDQWtELGFBQ0E7Z0JBQ0VoQixTQUFTO29CQUNQLGdCQUFnQjtvQkFDaEIsa0JBQWtCL0IsUUFBUUMsR0FBRyxDQUFDRSxjQUFjO29CQUM1Qyx5QkFBeUJILFFBQVFDLEdBQUcsQ0FBQ0csaUJBQWlCO2dCQUN4RDtnQkFDQWdELFFBQVE7b0JBQ05DLGdCQUFnQm5DLEtBQUtDLFNBQVMsQ0FBQzhCO2dCQUNqQztZQUNGO1FBRUo7UUFFQSxNQUFNakIsV0FBV0gsU0FBU2YsSUFBSSxDQUFDbUIsUUFBUTtRQUN2Q3BCLFFBQVFJLEdBQUcsQ0FBQyxDQUFDLG1EQUFtRCxFQUFFZSxVQUFVO1FBRTVFLCtEQUErRDtRQUMvRCxzRkFBc0Y7UUFDdEYsSUFBSSxDQUFDVyxPQUFPVyxlQUFlLEVBQUU7WUFDM0JYLE9BQU9XLGVBQWUsR0FBRyxDQUFDO1FBQzVCO1FBQ0FYLE9BQU9XLGVBQWUsQ0FBQ2Qsd0JBQXdCLEdBQUdSO1FBRWxELE9BQU9BO0lBQ1QsRUFBRSxPQUFPcEIsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsdUNBQXVDQTtRQUNyRCxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIkQ6XFxQcm9qZWN0c1xcRGVraHRlIGhhaVxcbmV1cm9TeW5jXFxOZXVyb1N5bmMtQUktRnJvbnRlbmRcXHBhZ2VzXFxhcGlcXHBpbmF0YVxcc3RvcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSAnZXRoZXJzJztcclxuXHJcbi8vIFBpbmF0YSBjb25maWd1cmF0aW9uXHJcbmNvbnN0IEpXVCA9IHByb2Nlc3MuZW52LlBJTkFUQV9KV1Q7XHJcbmNvbnN0IFBJTkFUQV9BUElfS0VZID0gcHJvY2Vzcy5lbnYuUElOQVRBX0FQSV9LRVk7XHJcbmNvbnN0IFBJTkFUQV9BUElfU0VDUkVUID0gcHJvY2Vzcy5lbnYuUElOQVRBX0FQSV9TRUNSRVQ7XHJcblxyXG4vKipcclxuICogQHJvdXRlIFBPU1QgL2FwaS9waW5hdGEvc3RvcmVcclxuICogQGRlc2MgU3RvcmUgdHJhbnNhY3Rpb24gZGF0YSBvbiBQaW5hdGEgSVBGU1xyXG4gKiBAYWNjZXNzIFByaXZhdGVcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBcclxuICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXRlIEFQSSBjcmVkZW50aWFsc1xyXG4gIGlmICghSldUICYmICghUElOQVRBX0FQSV9LRVkgfHwgIVBJTkFUQV9BUElfU0VDUkVUKSkge1xyXG4gICAgY29uc29sZS5lcnJvcignUGluYXRhIEFQSSBjcmVkZW50aWFscyBub3QgY29uZmlndXJlZCBpbiBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogJ1BpbmF0YSBBUEkgY3JlZGVudGlhbHMgbm90IGNvbmZpZ3VyZWQnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICBcclxuICAgIGlmICghZGF0YSB8fCAhZGF0YS53YWxsZXRBZGRyZXNzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdJbnZhbGlkIHRyYW5zYWN0aW9uIGRhdGEnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdTdG9yaW5nIHRyYW5zYWN0aW9uIGRhdGE6JywgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xyXG5cclxuICAgIC8vIEFkZCB0aW1lc3RhbXAgaWYgbm90IHByb3ZpZGVkXHJcbiAgICBpZiAoIWRhdGEudGltZXN0YW1wKSB7XHJcbiAgICAgIGRhdGEudGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHR4SWQgPSBldGhlcnMudXRpbHMuaWQoXHJcbiAgICAgIGAke2RhdGEud2FsbGV0QWRkcmVzc30tJHtkYXRhLnR5cGV9LSR7ZGF0YS5hbW91bnR9LSR7ZGF0YS50aW1lc3RhbXB9YFxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgZGF0YS5pZCA9IHR4SWQ7XHJcblxyXG4gICAgLy8gUHJlcGFyZSBkYXRhIGZvciBQaW5hdGFcclxuICAgIGNvbnN0IGpzb25EYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7XHJcbiAgICBcclxuICAgIC8vIFVwbG9hZCB0byBQaW5hdGFcclxuICAgIGxldCByZXNwb25zZTtcclxuICAgIFxyXG4gICAgaWYgKEpXVCkge1xyXG4gICAgICAvLyBVc2UgSldUIGF1dGhlbnRpY2F0aW9uXHJcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChcclxuICAgICAgICAnaHR0cHM6Ly9hcGkucGluYXRhLmNsb3VkL3Bpbm5pbmcvcGluSlNPTlRvSVBGUycsXHJcbiAgICAgICAgZGF0YSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke0pXVH1gXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVXNlIEFQSSBrZXkvc2VjcmV0XHJcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChcclxuICAgICAgICAnaHR0cHM6Ly9hcGkucGluYXRhLmNsb3VkL3Bpbm5pbmcvcGluSlNPTlRvSVBGUycsXHJcbiAgICAgICAgZGF0YSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICdwaW5hdGFfYXBpX2tleSc6IFBJTkFUQV9BUElfS0VZLFxyXG4gICAgICAgICAgICAncGluYXRhX3NlY3JldF9hcGlfa2V5JzogUElOQVRBX0FQSV9TRUNSRVRcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGlwZnNIYXNoID0gcmVzcG9uc2UuZGF0YS5JcGZzSGFzaDtcclxuICAgIGNvbnNvbGUubG9nKCdUcmFuc2FjdGlvbiBzdG9yZWQgd2l0aCBJUEZTIGhhc2g6JywgaXBmc0hhc2gpO1xyXG4gICAgXHJcbiAgICAvLyBBbHNvIGFkZCB0byB1c2VyJ3MgdHJhbnNhY3Rpb24gaGlzdG9yeVxyXG4gICAgY29uc3QgaGlzdG9yeUlwZnNIYXNoID0gYXdhaXQgdXBkYXRlVXNlclRyYW5zYWN0aW9uSGlzdG9yeShkYXRhLndhbGxldEFkZHJlc3MsIHtcclxuICAgICAgLi4uZGF0YSxcclxuICAgICAgaXBmc0hhc2hcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBpcGZzSGFzaCxcclxuICAgICAgaGlzdG9yeUlwZnNIYXNoLFxyXG4gICAgICBtZXNzYWdlOiAnVHJhbnNhY3Rpb24gc2F2ZWQgdG8gUGluYXRhIElQRlMnXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignUGluYXRhIHN0b3JhZ2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBgRmFpbGVkIHRvIHN0b3JlIHRyYW5zYWN0aW9uIG9uIFBpbmF0YTogJHtlcnJvci5tZXNzYWdlfWAsXHJcbiAgICAgIHN0YWNrOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gdXBkYXRlIGEgdXNlcidzIHRyYW5zYWN0aW9uIGhpc3Rvcnkgb24gUGluYXRhXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyVHJhbnNhY3Rpb25IaXN0b3J5KHdhbGxldEFkZHJlc3MsIG5ld1RyYW5zYWN0aW9uKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIE5vcm1hbGl6ZSB0aGUgd2FsbGV0IGFkZHJlc3MgdG8gbG93ZXJjYXNlIGZvciBjb25zaXN0ZW50IGxvb2t1cFxyXG4gICAgY29uc3Qgbm9ybWFsaXplZFdhbGxldEFkZHJlc3MgPSB3YWxsZXRBZGRyZXNzLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBcclxuICAgIC8vIENyZWF0ZSBhIGtleSBmb3IgdGhlIHVzZXIncyB0cmFuc2FjdGlvbiBoaXN0b3J5IGZpbGVcclxuICAgIGNvbnN0IHVzZXJIaXN0b3J5S2V5ID0gYG5ldXJvXyR7bm9ybWFsaXplZFdhbGxldEFkZHJlc3N9X3RyYW5zYWN0aW9uc2A7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyB0cmFuc2FjdGlvbiBoaXN0b3J5IGZvciB3YWxsZXQ6Jywgbm9ybWFsaXplZFdhbGxldEFkZHJlc3MpO1xyXG4gICAgXHJcbiAgICAvLyBGb3IgYSBwcm9kdWN0aW9uIGFwcCwgeW91IHdvdWxkIHJldHJpZXZlIHRoZSBleGlzdGluZyBoaXN0b3J5XHJcbiAgICAvLyBhbmQgYXBwZW5kIHRoZSBuZXcgdHJhbnNhY3Rpb25cclxuICAgIC8vIEZvciB0aGlzIGV4YW1wbGUsIHdlJ2xsIHVzZSBnbG9iYWwgdmFyaWFibGUgc3RvcmFnZVxyXG4gICAgXHJcbiAgICAvLyBUcnkgdG8gbG9hZCBleGlzdGluZyB0cmFuc2FjdGlvbnMgZnJvbSBnbG9iYWwgc3RvcmFnZSAodGhpcyBpcyB0ZW1wb3JhcnksIGluIGEgcmVhbCBhcHAgdXNlIGEgZGF0YWJhc2UpXHJcbiAgICBpZiAoIWdsb2JhbC51c2VyVHJhbnNhY3Rpb25zKSB7XHJcbiAgICAgIGdsb2JhbC51c2VyVHJhbnNhY3Rpb25zID0ge307XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGxldCB0cmFuc2FjdGlvbnMgPSBnbG9iYWwudXNlclRyYW5zYWN0aW9uc1tub3JtYWxpemVkV2FsbGV0QWRkcmVzc10gfHwgW107XHJcbiAgICBcclxuICAgIC8vIEVuc3VyZSB0aGUgdHJhbnNhY3Rpb24gaGFzIHRoZSBub3JtYWxpemVkIHdhbGxldCBhZGRyZXNzXHJcbiAgICBjb25zdCB0cmFuc2FjdGlvbldpdGhOb3JtYWxpemVkV2FsbGV0ID0ge1xyXG4gICAgICAuLi5uZXdUcmFuc2FjdGlvbixcclxuICAgICAgd2FsbGV0QWRkcmVzczogbm9ybWFsaXplZFdhbGxldEFkZHJlc3NcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIEFkZCB0aGUgbmV3IHRyYW5zYWN0aW9uIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XHJcbiAgICB0cmFuc2FjdGlvbnMgPSBbdHJhbnNhY3Rpb25XaXRoTm9ybWFsaXplZFdhbGxldCwgLi4udHJhbnNhY3Rpb25zXTtcclxuICAgIFxyXG4gICAgLy8gU3RvcmUgaW4gZ2xvYmFsIGZvciB0aGlzIHNlc3Npb24gKHRlbXBvcmFyeSBzb2x1dGlvbilcclxuICAgIGdsb2JhbC51c2VyVHJhbnNhY3Rpb25zW25vcm1hbGl6ZWRXYWxsZXRBZGRyZXNzXSA9IHRyYW5zYWN0aW9ucztcclxuICAgIFxyXG4gICAgY29uc3QgaGlzdG9yeURhdGEgPSB7XHJcbiAgICAgIHdhbGxldEFkZHJlc3M6IG5vcm1hbGl6ZWRXYWxsZXRBZGRyZXNzLFxyXG4gICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB0cmFuc2FjdGlvbnNcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIFN0b3JlIGhpc3RvcnkgZGF0YSBhcyBKU09OXHJcbiAgICBjb25zdCBtZXRhZGF0YSA9IHtcclxuICAgICAgbmFtZTogYCR7dXNlckhpc3RvcnlLZXl9Lmpzb25gLFxyXG4gICAgICBrZXl2YWx1ZXM6IHtcclxuICAgICAgICB3YWxsZXRBZGRyZXNzOiBub3JtYWxpemVkV2FsbGV0QWRkcmVzcyxcclxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIFVwbG9hZCB0byBQaW5hdGFcclxuICAgIGxldCByZXNwb25zZTtcclxuICAgIFxyXG4gICAgaWYgKHByb2Nlc3MuZW52LlBJTkFUQV9KV1QpIHtcclxuICAgICAgLy8gVXNlIEpXVCBhdXRoZW50aWNhdGlvblxyXG4gICAgICByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoXHJcbiAgICAgICAgJ2h0dHBzOi8vYXBpLnBpbmF0YS5jbG91ZC9waW5uaW5nL3BpbkpTT05Ub0lQRlMnLFxyXG4gICAgICAgIGhpc3RvcnlEYXRhLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7cHJvY2Vzcy5lbnYuUElOQVRBX0pXVH1gXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgIHBpbmF0YU1ldGFkYXRhOiBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBVc2UgQVBJIGtleS9zZWNyZXRcclxuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KFxyXG4gICAgICAgICdodHRwczovL2FwaS5waW5hdGEuY2xvdWQvcGlubmluZy9waW5KU09OVG9JUEZTJyxcclxuICAgICAgICBoaXN0b3J5RGF0YSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICdwaW5hdGFfYXBpX2tleSc6IHByb2Nlc3MuZW52LlBJTkFUQV9BUElfS0VZLFxyXG4gICAgICAgICAgICAncGluYXRhX3NlY3JldF9hcGlfa2V5JzogcHJvY2Vzcy5lbnYuUElOQVRBX0FQSV9TRUNSRVRcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgcGluYXRhTWV0YWRhdGE6IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgaXBmc0hhc2ggPSByZXNwb25zZS5kYXRhLklwZnNIYXNoO1xyXG4gICAgY29uc29sZS5sb2coYFVwZGF0ZWQgdHJhbnNhY3Rpb24gaGlzdG9yeSBzdG9yZWQgd2l0aCBJUEZTIGhhc2g6ICR7aXBmc0hhc2h9YCk7XHJcbiAgICBcclxuICAgIC8vIEluIGEgcHJvZHVjdGlvbiBhcHAsIHlvdSB3b3VsZCBzdG9yZSB0aGlzIGhhc2ggaW4gYSBkYXRhYmFzZVxyXG4gICAgLy8gRm9yIHRoaXMgZGVtbywgd2UnbGwgc3RvcmUgaXQgaW4gYSBnbG9iYWwgdmFyaWFibGUgKHRoaXMgaXMgbG9zdCBvbiBzZXJ2ZXIgcmVzdGFydClcclxuICAgIGlmICghZ2xvYmFsLnVzZXJIaXN0b3J5Q2lkcykge1xyXG4gICAgICBnbG9iYWwudXNlckhpc3RvcnlDaWRzID0ge307XHJcbiAgICB9XHJcbiAgICBnbG9iYWwudXNlckhpc3RvcnlDaWRzW25vcm1hbGl6ZWRXYWxsZXRBZGRyZXNzXSA9IGlwZnNIYXNoO1xyXG4gICAgXHJcbiAgICByZXR1cm4gaXBmc0hhc2g7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHRyYW5zYWN0aW9uIGhpc3Rvcnk6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJheGlvcyIsImV0aGVycyIsIkpXVCIsInByb2Nlc3MiLCJlbnYiLCJQSU5BVEFfSldUIiwiUElOQVRBX0FQSV9LRVkiLCJQSU5BVEFfQVBJX1NFQ1JFVCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsImVycm9yIiwiY29uc29sZSIsImRhdGEiLCJib2R5Iiwid2FsbGV0QWRkcmVzcyIsImxvZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ0eElkIiwidXRpbHMiLCJpZCIsInR5cGUiLCJhbW91bnQiLCJqc29uRGF0YSIsInJlc3BvbnNlIiwicG9zdCIsImhlYWRlcnMiLCJpcGZzSGFzaCIsIklwZnNIYXNoIiwiaGlzdG9yeUlwZnNIYXNoIiwidXBkYXRlVXNlclRyYW5zYWN0aW9uSGlzdG9yeSIsIm1lc3NhZ2UiLCJzdGFjayIsInVuZGVmaW5lZCIsIm5ld1RyYW5zYWN0aW9uIiwibm9ybWFsaXplZFdhbGxldEFkZHJlc3MiLCJ0b0xvd2VyQ2FzZSIsInVzZXJIaXN0b3J5S2V5IiwiZ2xvYmFsIiwidXNlclRyYW5zYWN0aW9ucyIsInRyYW5zYWN0aW9ucyIsInRyYW5zYWN0aW9uV2l0aE5vcm1hbGl6ZWRXYWxsZXQiLCJoaXN0b3J5RGF0YSIsImxhc3RVcGRhdGVkIiwibWV0YWRhdGEiLCJuYW1lIiwia2V5dmFsdWVzIiwicGFyYW1zIiwicGluYXRhTWV0YWRhdGEiLCJ1c2VySGlzdG9yeUNpZHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/pinata/store.js\n");

/***/ }),

/***/ "axios?daaa":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "ethers":
/*!*************************!*\
  !*** external "ethers" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("ethers");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fpinata%2Fstore&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cpinata%5Cstore.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();